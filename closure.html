<!DOCTYPE html>
<html>
  <head>
    <script>
      function fun() {
        function closure(val) {
          return function () {
            return val;
          };
        }
        var a = [];
        var i;
        for (i = 0; i < 5; i++) {
          a[i] = closure(i);
        }
        return a;
      }
      var output = fun();
      console.log(output[0]());
      console.log(" ");
      console.log(output[1]());
      console.log(" ");
      console.log(output[2]());
      console.log(" ");
      console.log(output[3]());
      console.log(" ");
      console.log(output[4]());
      console.log(" ");

      function foo() {
        let b = 10;
        function inner() {
          return b;
        }
        return inner;
      }
      let get_func_inner = foo();

      console.log(get_func_inner());
      console.log(" ");
      console.log(get_func_inner());
      console.log(" ");
      console.log(get_func_inner());
      console.log(" ");

      // Outer function
      function outer() {
        let arr = [];
        let i;
        for (i = 0; i < 9; i++) {
          arr[i] = function () {
            return i;
          };
        }

        return arr;
      }

      let get_arr = outer();
      console.log(get_arr[0]());
      console.log(" ");
      console.log(get_arr[0]());
      console.log(" ");
      console.log(get_arr[0]());
      console.log(" ");
      console.log(get_arr[0]());
      console.log(" ");
      console.log(get_arr[0]());
      console.log(" ");
      console.log(get_arr[0]());
      console.log(" ");
      console.log(get_arr[0]());
      console.log(" ");
      console.log(get_arr[0]());
      console.log(" ");

      function outer() {
        function create_Closure(val) {
          return function () {
            return val;
          };
        }
        let arr = [];
        let i;
        for (i = 0; i < 5; i++) {
          arr[i] = create_Closure(i);
        }
        return arr;
      }
      let get_ar = outer();
      console.log(get_ar[0]());
      console.log(get_ar[1]());
      console.log(get_ar[2]());
      console.log(get_ar[3]());
      console.log(get_ar[4]());

      function init() {
        var name = "abc";
        function displiayName() {
          console.log(name);
        }
        name = "pqr";
        return displiayName;
      }
      let c = init();
      c();


      //Synchronous Process
      //console.log("Task 1");
      //console.log("Task 2");
      //console.log("Task 3");

      //Asynchronous Process
      //console.log("Task 1");
      //setTimeout(function () {
      //console.log("Task 2");
      //}, 2000);
      //console.log("Task 3");

      //console.log("Task 1");

      //function task2(callback) {
        //setTimeout(function () {
          //console.log("Task 2");
          //callback();
        //}, 2000);
      //}

      //function task3() {
        //console.log("Task 3");
      //}

      //task2(function () {
        //task3();
      //});

      
//await delay method with the help of promise.resolve method	  
	//function delay(ms) {
  //return new Promise(resolve => setTimeout(resolve, ms));
//}

//async function executeTasks() {
  //console.log("Task 1");
  //await delay(2000);
  //console.log("Task 2");
  //console.log("Task 3");
//}

//executeTasks();

// Promise all	 
//function delay(ms) {
  //return new Promise(resolve => setTimeout(resolve, ms));
//}

//function executeTasks() {
  //console.log("Task 1");

  //return Promise.all([
    //delay(1000).then(() => {
      //console.log("Task 3");
    //}),
    //Promise.resolve().then(() => {
      //console.log("Task 2");
    //})
  //]);
//}

//executeTasks();

	 //method promise.reject
//   console.log("Task 1");

//const delay = (ms) => new Promise((resolve, reject) => setTimeout(reject, ms));

//(async function () {
  //try {
    //await delay(2000);
    //console.log("Task 3");
  //}
   //catch (error) {
    //console.log("Error occurred:", error);
  //}
  //console.log("Task 3");
  //}
//)();

//console.log("Task 2");
 
 //method Promise.race
 console.log("Task 1");

const delay = (ms) => new Promise(resolve => setTimeout(resolve, ms));

(async function () {
  await Promise.race([
    delay(2000),
    Promise.resolve()
  ]);
  console.log("Task 3");
})();

console.log("Task 2");
     



//Synchronous Process
      //function addNumbers(a, b) {
      //return a * b;
      //}  

      //console.log("Start");
      //const result = addNumbers(5, 3);
      //console.log("Result:", result);
      //console.log("End");

      //Asynchronous Process
      //console.log("Start");

      //fetch("https://jsonplaceholder.typicode.com/users")
      //.then((response) => response.json())
      //.then((data) => {
      //console.log("Received data:", data);
      //})
      //.catch((error) => {
      //console.error("Error:", error);
      //});

      //console.log("End");

      //console.log("asynchronous process");
      //function delayedMessage(message, delay, callback) {
      //setTimeout(function () {
      //console.log(message);
      //callback();
      //}, delay);
      //}

      //delayedMessage("Delayed Task", 2000, function () {
      //console.log("Callback executed after Delayed Task 1");
      //});
    </script>
  </head>
  <body>
    
</body>
</html>
